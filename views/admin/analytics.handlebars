<style>#map, #bmap {height: 500px;width: 100%;}</style>
<style>.lds-ripple{display:inline-block;position:relative;width:64px;height:64px}.lds-ripple div{position:absolute;border:4px solid #333;opacity:1;border-radius:50%;animation:lds-ripple 1s cubic-bezier(0,.2,.8,1) infinite}.lds-ripple div:nth-child(2){animation-delay:-.5s}@keyframes lds-ripple{0%{top:28px;left:28px;width:0;height:0;opacity:1}100%{top:-1px;left:-1px;width:58px;height:58px;opacity:0}}</style>
<div class="container">
  <div class="card shadow">
    <div class="card-header" style="margin: 0">
      <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist" style="margin-bottom: 0;">
        <li class="nav-item">
          <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#heatmapPane" role="tab" aria-controls="pills-home" aria-selected="true">Heat Map Location</a>
        </li>
        <li class="nav-item">
          <a href="#heatmapBeaconPane" class="nav-link" id="pills-beacon" data-toggle="pill" role="tab" aria-controls="pills-beacon" aria-selected="false">Heat Map Beacon</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#bygeofence" role="tab" aria-controls="pills-profile" aria-selected="false">By GeoFence</a>
        </li>
        {{!-- <li class="nav-item">
          <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false">Contact</a>
        </li> --}}
      </ul>
    </div>

    <div class="card-body">
      <div class="tab-content" id="tabContent">
        
        <div class="tab-pane fade show active" id="heatmapPane" role="tabpanel" aria-labelledby="heatmapPane-tab">      
          <div id="map"></div>
        </div>

        <div class="tab-pane" id="heatmapBeaconPane" role="tabpanel" aria-labelledby="heatmapBeacon-tab">      
          <div id="bmap"></div>
        </div>
        {{!-- U],n7HH:Y$3<%yWC --}}
        <div class="tab-pane" id="bygeofence" role="tabpanel" aria-labelledby="bygeofence-tab">
          <div class="container">
            <div class="row">
              <div class="col"></div>
              <div class="col"></div>
              <div class="col">
                <select class="custom-select" id="geofenceSelect" onchange="geofenceSelect()">
                    <option value="0" selected="true" disabled="true">---Select---</option>
                  {{#each geofence}}
                    <option value="{{id}}">{{name}}</option>
                  {{/each}}
                </select>
              </div>
            </div>
          </div>
          <hr>
          <div class="container-fluid">
            <!-- Geofence -->
            <div class="text-center"> 
              <div class="lds-ripple text-center" id="progress"><div></div><div></div></div>
            </div>
            <div class="row" style="display: flex; flex-direction: row">
              <div class="col" style="flex: 2;">
                <div id="geofenceHeatmap"></div>
              </div>
              <div class="col text-center" style="flex:1;">
          
              </div>
            </div>
            <!-- Geofence End -->
          </div>
        </div>
      
      </div>
    </div>

  </div>
</div>
<script src="/js/heatmap.js"></script>
<script src="/js/bygeofence.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgAjjr1VNy4zJCZEz-6FgIdkH3SVBS6jA&callback=initMap&libraries=visualization"></script>